<div class="row">
    <app-hr-brand-navbar></app-hr-brand-navbar>
</div>
<br><br><br>
<div class="row mt-2">
    <div class="col-sm-2">
        <app-navbar></app-navbar>
    </div>
    <div class="row">
        <div class="col-sm-3"></div>
        <div class="col-md-8">
            <nav class="navbar navbar-light bg-light">
                <form class="d-flex">
                    <select class="form-control me-2" [(ngModel)]="designation" name="designation">
                        <option value="">Select Designation</option>
                        <option *ngFor="let des of designations" [value]="des">{{des}}</option>
                    </select>

                    <!-- Department Dropdown -->
                    <select class="form-control me-2" [(ngModel)]="department" name="department">
                        <option value="">Select Department</option>
                        <option *ngFor="let dept of departments" [value]="dept">{{dept}}</option>
                    </select>

                    <!-- City/Location Dropdown -->
                    <select class="form-control me-2" [(ngModel)]="city" name="city">
                        <option value="">Select Location</option>
                        <option *ngFor="let city of cities" [value]="city">{{city}}</option>
                    </select>
                    <button class="btn btn-outline-success my-2 my-sm-0" type="button" (click)="fetch()">Search</button>
                </form>
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-3"></div>
        <div class="col-md-8">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Department</th>
                        <th scope="col">Designation</th>
                        <th scope="col">Working Days</th>
                        <th scope="col">Leave</th>
                        <th scope="col">Action</th>                    
                    </tr>
                </thead>
                <tbody>
                    <!-- Iterating over employee list -->
                    <tr *ngFor="let e of employee">
                        <td>{{ e.name }}</td>
                        <td>{{ e.department }}</td>
                        <td>{{ e.designation }}</td>                        
                        <td>{{ e.workingDays }}</td>
                        <td>{{ e.leave }}</td>
                        <td><button class="btn btn-primary btn-sm" (click)="onCompute(e.id)" *ngIf="show==true" [disabled]="isComputed(e.id)">Compute</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-3"></div>
        <div class="col-md-6"></div>
        <div class="col-sm-3">
            <button type="button" class="btn btn-warning" (click)="onReview()">Review Payroll</button>
        </div>
    </div>
</div>
